(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-503ee0ca"],{"523e":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tags"},[e("ul",t._l(t.tagsList,function(s,i){return e("li",{key:i,staticClass:"tags-li",class:{active:t.isActive(s.path)}},[e("router-link",{staticClass:"tags-li-title",attrs:{to:s.path},nativeOn:{contextmenu:function(e){return e.preventDefault(),t.openMenu(s,e)}}},[t._v(t._s(s.title))]),e("span",{staticClass:"tags-li-icon",on:{click:function(e){return t.closeTags(i,s.path)}}},[e("i",{staticClass:"el-icon-close"})])],1)}),0),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.left+"px",top:t.top+"px"}},[e("li",{on:{click:function(s){return t.closeSelectedTag(t.selectedTag)}}},[t._v("关闭")]),e("li",{on:{click:t.closeOthersTags}},[t._v("关闭其他")]),e("li",{on:{click:t.closeAllTags}},[t._v("关闭所有")])])])},n=[],a=(e("7f7f"),e("5c96")),c=function(t,s){Object(a["Message"])({type:t,message:s})},l={data:function(){return{visible:!1,top:0,left:0,selectedTag:{}}},created:function(){0===this.tagsList.length&&this.setTags(this.$route)},computed:{tagsList:{get:function(){return this.$store.state.tagsView.tagsList},set:function(t){this.$store.commit("TAGES_LIST",t)}}},watch:{$route:function(t,s){this.setTags(t)},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},methods:{isActive:function(t){return t===this.$route.fullPath},handleCommand:function(t){var s=this;if("closeOther"===t){var e=this.tagsList.filter(function(t){return t.path===s.$route.fullPath});this.tagsList=e}},setTags:function(t){var s=this.tagsList.some(function(s){return s.path===t.fullPath});s||(this.tagsList.length>=10?c("warning","当标签大于10个，请关闭后再打开"):(this.tagsList.push({title:t.meta.title,path:t.fullPath,name:t.name}),this.$store.commit("TAGES_LIST",this.tagsList)))},closeTags:function(t,s){if(1===this.tagsList.length)c("warning","不可全都关闭");else{this.tagsList.splice(t,1);this.$store.commit("TAGES_LIST",this.tagsList)}s===this.$route.fullPath&&this.$router.push(this.$store.state.tagsView.tagsList[this.$store.state.tagsView.tagsList.length-1])},openMenu:function(t,s){this.visible=!0,this.selectedTag=t;var e=this.$el.getBoundingClientRect().left,i=this.$el.getBoundingClientRect().top;this.left=s.clientX-e+15,this.top=s.clientY-i},closeMenu:function(){this.visible=!1},closeSelectedTag:function(t){var s=this;this.$store.dispatch("delVisitedViews",t).then(function(e){if(s.isActive(t.path)){var i=e.slice(-1)[0];i?s.$router.push(i):s.$router.push("/home")}})},closeOthersTags:function(){},closeAllTags:function(){}}},o=l,u=(e("a511"),e("2877")),r=Object(u["a"])(o,i,n,!1,null,"fbc3f4b4",null);s["default"]=r.exports},7627:function(t,s,e){},a511:function(t,s,e){"use strict";var i=e("7627"),n=e.n(i);n.a}}]);