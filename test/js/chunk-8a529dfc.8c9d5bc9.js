(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a529dfc","chunk-503ee0ca"],{"1f70":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("tags"),s("div",{staticClass:"contents"},[s("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[s("router-view")],1)],1)],1)},n=[],a=s("523e"),c={components:{Tags:a["default"]}},o=c,l=(s("3efc"),s("2877")),u=Object(l["a"])(o,i,n,!1,null,"e8da0ab0",null);e["default"]=u.exports},"3efc":function(t,e,s){"use strict";var i=s("c4dd"),n=s.n(i);n.a},"523e":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tags"},[s("ul",t._l(t.tagsList,function(e,i){return s("li",{key:i,staticClass:"tags-li",class:{active:t.isActive(e.path)}},[s("router-link",{staticClass:"tags-li-title",attrs:{to:e.path},nativeOn:{contextmenu:function(s){return s.preventDefault(),t.openMenu(e,s)}}},[t._v(t._s(e.title))]),s("span",{staticClass:"tags-li-icon",on:{click:function(s){return t.closeTags(i,e.path)}}},[s("i",{staticClass:"el-icon-close"})])],1)}),0),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.left+"px",top:t.top+"px"}},[s("li",{on:{click:function(e){return t.closeSelectedTag(t.selectedTag)}}},[t._v("关闭")]),s("li",{on:{click:t.closeOthersTags}},[t._v("关闭其他")]),s("li",{on:{click:t.closeAllTags}},[t._v("关闭所有")])])])},n=[],a=(s("7f7f"),s("5c96")),c=function(t,e){Object(a["Message"])({type:t,message:e})},o={data:function(){return{visible:!1,top:0,left:0,selectedTag:{}}},created:function(){0===this.tagsList.length&&this.setTags(this.$route)},computed:{tagsList:{get:function(){return this.$store.state.tagsView.tagsList},set:function(t){this.$store.commit("TAGES_LIST",t)}}},watch:{$route:function(t,e){this.setTags(t)},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},methods:{isActive:function(t){return t===this.$route.fullPath},handleCommand:function(t){var e=this;if("closeOther"===t){var s=this.tagsList.filter(function(t){return t.path===e.$route.fullPath});this.tagsList=s}},setTags:function(t){var e=this.tagsList.some(function(e){return e.path===t.fullPath});e||(this.tagsList.length>=10?c("warning","当标签大于10个，请关闭后再打开"):(this.tagsList.push({title:t.meta.title,path:t.fullPath,name:t.name}),this.$store.commit("TAGES_LIST",this.tagsList)))},closeTags:function(t,e){if(1===this.tagsList.length)c("warning","不可全都关闭");else{this.tagsList.splice(t,1);this.$store.commit("TAGES_LIST",this.tagsList)}e===this.$route.fullPath&&this.$router.push(this.$store.state.tagsView.tagsList[this.$store.state.tagsView.tagsList.length-1])},openMenu:function(t,e){this.visible=!0,this.selectedTag=t;var s=this.$el.getBoundingClientRect().left,i=this.$el.getBoundingClientRect().top;this.left=e.clientX-s+15,this.top=e.clientY-i},closeMenu:function(){this.visible=!1},closeSelectedTag:function(t){var e=this;this.$store.dispatch("delVisitedViews",t).then(function(s){if(e.isActive(t.path)){var i=s.slice(-1)[0];i?e.$router.push(i):e.$router.push("/home")}})},closeOthersTags:function(){},closeAllTags:function(){}}},l=o,u=(s("a511"),s("2877")),r=Object(u["a"])(l,i,n,!1,null,"fbc3f4b4",null);e["default"]=r.exports},7627:function(t,e,s){},a511:function(t,e,s){"use strict";var i=s("7627"),n=s.n(i);n.a},c4dd:function(t,e,s){}}]);